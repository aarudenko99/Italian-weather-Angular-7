<div id="statistics"> 
    <div class="ioslist-group-container" *ngFor="let item of localityForecasts?.dayForecasts">
        <div class="ioslist-group-header">
          <table width="100%">
            <tr>
              <td width="37%">{{item.maturityDateLabel[2]}}</td>
              <td width="21%" align="center">
                <span class="icon sun">
                  <!-- <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 490.7 490.7"><style>.sun .a{fill:#FFD54F;}</style><circle cx="245.3" cy="245.3" r="160" fill="#FFC107"/><path d="M245.3 64C251.2 64 256 59.2 256 53.3V10.7C256 4.8 251.2 0 245.3 0c-5.9 0-10.7 4.8-10.7 10.7v42.7C234.7 59.2 239.4 64 245.3 64z" class="a"/><path d="M245.3 426.7c-5.9 0-10.7 4.8-10.7 10.7V480c0 5.9 4.8 10.7 10.7 10.7 5.9 0 10.7-4.8 10.7-10.7v-42.7C256 431.4 251.2 426.7 245.3 426.7z" class="a"/><path d="M480 234.7h-42.7c-5.9 0-10.7 4.8-10.7 10.7 0 5.9 4.8 10.7 10.7 10.7H480c5.9 0 10.7-4.8 10.7-10.7C490.7 239.4 485.9 234.7 480 234.7z" class="a"/><path d="M64 245.3c0-5.9-4.8-10.7-10.7-10.7H10.7C4.8 234.7 0 239.4 0 245.3 0 251.2 4.8 256 10.7 256h42.7C59.2 256 64 251.2 64 245.3z" class="a"/><path d="M140.1 84.4c1.9 3.3 5.4 5.3 9.3 5.3 1.9 0 3.7-0.5 5.3-1.4 5.1-2.9 6.8-9.5 3.9-14.6l-21.3-36.9c-3-5.1-9.5-6.8-14.6-3.8 -5 3-6.8 9.4-3.9 14.5L140.1 84.4z" class="a"/><path d="M350.6 406.3c-3-5.1-9.5-6.8-14.6-3.8 -5 3-6.8 9.4-3.9 14.5l21.3 36.9c1.9 3.3 5.4 5.3 9.3 5.3 1.9 0 3.7-0.5 5.3-1.4 5.1-2.9 6.8-9.5 3.9-14.6L350.6 406.3z" class="a"/><path d="M411.6 160c1.9 0 3.7-0.5 5.3-1.4l36.9-21.3c5.2-2.7 7.2-9.2 4.5-14.4 -2.7-5.2-9.2-7.2-14.4-4.5 -0.3 0.1-0.5 0.3-0.8 0.5l-36.9 21.3c-5.1 2.9-6.8 9.5-3.9 14.6 1.9 3.3 5.4 5.3 9.2 5.3V160z" class="a"/><path d="M73.7 332.1l-36.9 21.3c-5.1 2.9-6.8 9.5-3.9 14.6 1.9 3.3 5.4 5.3 9.2 5.3 1.9 0 3.7-0.5 5.3-1.4l36.9-21.3c5.2-2.7 7.2-9.2 4.5-14.4 -2.7-5.2-9.2-7.2-14.4-4.5 -0.3 0.1-0.5 0.3-0.8 0.5L73.7 332.1z" class="a"/><path d="M36.8 137.2l36.9 21.3c1.6 0.9 3.4 1.4 5.3 1.4 5.9 0 10.7-4.8 10.7-10.7 0-3.8-2-7.3-5.3-9.2l-36.9-21.3c-5-3.2-11.6-1.7-14.7 3.3s-1.7 11.6 3.3 14.7c0.3 0.2 0.5 0.3 0.8 0.5L36.8 137.2z" class="a"/><path d="M453.9 353.4l-36.9-21.3c-5-3.2-11.6-1.7-14.7 3.3 -3.2 5-1.7 11.6 3.3 14.7 0.3 0.2 0.5 0.3 0.8 0.5l36.9 21.3c1.6 0.9 3.5 1.4 5.3 1.4 5.9 0 10.7-4.8 10.7-10.7 0-3.8-2-7.3-5.3-9.2V353.4z" class="a"/><path d="M336 88.3c1.6 0.9 3.5 1.4 5.3 1.4 3.8 0 7.3-2 9.3-5.3l21.3-36.9c2.9-5.1 1.1-11.6-4-14.5 -5.1-2.9-11.5-1.2-14.5 3.9l-21.3 36.9C329.2 78.8 330.9 85.3 336 88.3z" class="a"/><path d="M154.7 402.4c-5.1-2.9-11.6-1.2-14.6 3.9l-21.3 36.9c-2.9 5.1-1.2 11.6 3.9 14.6 1.6 0.9 3.5 1.4 5.3 1.4 3.8 0 7.4-2 9.3-5.3l21.3-36.9c2.9-5.1 1.2-11.6-3.9-14.6C154.7 402.4 154.7 402.4 154.7 402.4z" class="a"/></svg> -->
                </span>
              </td>
              <td width="21%" align="center" *ngIf="visibleDescr===false">
                <span class="icon temp">
                  <svg enable-background="new 0 0 512 512" version="1.1" viewBox="0 0 512 512" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
                    <style>.temp .white{fill:#fff;}</style>
                    <path class="white" d="m341.33 288.59v-203.26c0-47.128-38.205-85.333-85.333-85.333s-85.333 38.205-85.333 85.333v203.26c-26.187 23.438-42.667 57.499-42.667 95.408 0 70.693 57.308 128 128 128s128-57.307 128-128c0-37.909-16.48-71.97-42.667-95.407zm-85.333 180.74c-47.128 0-85.333-38.205-85.333-85.333 0-24.637 10.441-47.492 28.455-63.615l14.212-12.72v-222.33c0-23.564 19.103-42.667 42.667-42.667s42.667 19.102 42.667 42.667v222.33l14.212 12.72c18.014 16.123 28.455 38.977 28.455 63.615-2e-3 47.128-38.207 85.333-85.335 85.333z"/>
                    <rect class="white" x="234.67" y="170.67" width="42.667" height="256"/>
                    <circle class="white" cx="256" cy="384" r="64"/>
                  </svg>
                </span>
              </td>
              <td width="21%" align="center" *ngIf="visibleDescr===false">
                  <span class="icon drop">
                      <svg enable-background="new 0 0 76.977 76.977" version="1.1" viewBox="0 0 76.977 76.977" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
              	<style>.drop .white{fill:#fff;}</style>
              	<path class="white" d="m38.489 76.977c-15.54 0-28.183-12.643-28.183-28.182 0-14.53 23.185-44.307 25.828-47.654 0.569-0.72 1.437-1.141 2.354-1.141s1.785 0.42 2.354 1.141c2.644 3.348 25.828 33.124 25.828 47.654 1e-3 15.539-12.641 28.182-28.181 28.182zm0-69.06c-7.847 10.409-22.183 31.389-22.183 40.878 0 12.231 9.951 22.182 22.183 22.182s22.183-9.95 22.183-22.182c-1e-3 -9.489-14.337-30.469-22.183-40.878z"/>
              	<path class="white" d="m38.489 64.981c-1.657 0-3-1.343-3-3s1.343-3 3-3c5.616 0 10.186-4.567 10.186-10.183 0-1.657 1.343-3 3-3 1.656 0 3 1.343 3 3-1e-3 8.923-7.262 16.183-16.186 16.183z"/>
                      </svg>
                  </span>
              </td>
              <td width="42%" *ngIf="visibleDescr===true">                
              </td>
            </tr>
            <tr class="previsione-corretta" *ngIf="CorrectUrlOK(item)">
              <td width="37%">Previsione corretta</td>
              <td width="21%" align="center">
                <span class="icon sun">
                    <img [src]="GetCorrectUrlPath(item)?.toLowerCase()">
                </span>
              </td>
              <td width="21%" *ngIf="visibleDescr===false" align="center">
                  {{CellValue(item.usersForecasts[0].userPredictions[1]?.cVal)}}°
              </td>
              <td width="21%" *ngIf="visibleDescr===false" align="center">                
                  {{CellValue(item.usersForecasts[0].userPredictions[2]?.cVal)}}
              </td>
              <td width="42%" *ngIf="visibleDescr===true">                
                  {{CellValue(item.usersForecasts[0].userPredictions[0]?.cVal)}}
              </td>
            </tr>
          </table>
        </div>
        <ul class="forecast-results">
            <li *ngFor="let subitem of item.usersForecasts">
              <table width="100%">
                <tr>
                  <!-- <td width="40%">{{subitem.username}}</td> 
                  <img src="./account/resources/loghi/{{ subitem.username }}.png"/> -->
                  <td width="37%">
                      <table width="100%">
                          <tr>
                            <td style="font-size: medium; vertical-align: middle; padding-left:12px" width="30%">
                                {{ CellUserRanking(subitem) }}&nbsp;
                            </td>
                            <td width="70%">
                                <img style="height: 60px; width: 70px" 
                                     (click)="GoToSite(subitem)"
                                     src="./account/resources/loghi/{{ CellUserId(subitem) }}.png"/>
                            </td>
                          </tr>
                      </table>
                  </td>
                  <td width="21%" (click)="showDescr()" 
                      align="center"
                      [ngClass]="{'top-rating': isTopRatingClass(subitem.userPredictions[0])}"  
                      [style.color]="subitem.userPredictions[0]?.txCol" 
                      [style.background-color]="GetBackgroundColor(0, subitem)">
                  	<div class="top-rating-icon">
	                  	<svg viewBox="0 0 256 397" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
	                  	    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
	                  	        <g fill-rule="nonzero">
	                  	            <path d="M198.453,178.52 L57.733,178.52 C54.994,178.52 52.773,180.741 52.773,183.48 L52.773,183.48 L52.773,391.16 C52.759,393.899 54.968,396.131 57.707,396.146 C59.038,396.153 60.315,395.625 61.253,394.68 L128.093,327.88 L194.933,394.72 C196.863,396.664 200.003,396.676 201.947,394.746 C202.891,393.809 203.419,392.531 203.413,391.2 L203.413,183.52 C203.435,180.781 201.232,178.542 198.493,178.52 L198.453,178.52 Z" id="Shape" fill="#D57E00"></path>
	                  	            <circle id="Oval" fill="#DD9936" cx="128.093" cy="127.48" r="127.48"></circle>
	                  	            <circle id="Oval" fill="#FFF7F0" cx="128.093" cy="127.48" r="91.8"></circle>
	                  	            <path d="M110.8,117.075562 C109.204,117.013562 107.727,116.215562 106.8,114.915562 C105.681,113.702562 105.041,112.124562 105,110.475562 C105.182,108.028562 106.559,105.828562 108.68,104.595562 C115.373,99.8225621 119.84,96.7425621 122.08,95.3555621 C123.674,94.2385621 125.488,93.4755621 127.4,93.1155621 C128.912,92.8555621 130.467,93.0365621 131.88,93.6355621 C133.904,94.4385621 135.213,96.4185621 135.16,98.5955621 L135.16,107.875562 L135.16,117.275562 L135.16,155.755562 C135.184,157.344562 134.42,158.842562 133.12,159.755562 C131.687,160.776562 129.958,161.296562 128.2,161.235562 C126.467,161.341562 124.756,160.799562 123.4,159.715562 C122.096,158.504562 121.405,156.771562 121.52,154.995562 L121.52,141.075562 L121.52,123.075562 L121.52,116.675562 L121.52,110.475562 C118.853,112.662562 116.44,114.515562 114.28,116.035562 C113.226,116.669562 112.029,117.026562 110.8,117.075562 L110.8,117.075562 Z" id="Shape" fill="#292929"></path>
	                  	        </g>
	                  	    </g>
	                  	</svg>
                  	</div>
                    <span class="icon sun">
                      <img *ngIf="UrlOK(subitem)" style="width: 38px; height: 38px" [src]="GetUrlPath(subitem)?.toLowerCase()">
                    </span>
                    <div style="vertical-align: middle"><span class="icon-perc">{{ CellScore(0, subitem) }}</span></div>
                  </td>
                  <td width="21%" align="center" *ngIf="visibleDescr===false" 
                      [ngClass]="{'top-rating': isTopRatingClass(subitem.userPredictions[1])}"  
                      [style.color]="subitem.userPredictions[1]?.txCol" 
                      [style.background-color]="GetBackgroundColor(1, subitem)">
                      <div class="top-rating-icon">
                        <svg viewBox="0 0 256 397" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                <g fill-rule="nonzero">
                                    <path d="M198.453,178.52 L57.733,178.52 C54.994,178.52 52.773,180.741 52.773,183.48 L52.773,183.48 L52.773,391.16 C52.759,393.899 54.968,396.131 57.707,396.146 C59.038,396.153 60.315,395.625 61.253,394.68 L128.093,327.88 L194.933,394.72 C196.863,396.664 200.003,396.676 201.947,394.746 C202.891,393.809 203.419,392.531 203.413,391.2 L203.413,183.52 C203.435,180.781 201.232,178.542 198.493,178.52 L198.453,178.52 Z" id="Shape" fill="#D57E00"></path>
                                    <circle id="Oval" fill="#DD9936" cx="128.093" cy="127.48" r="127.48"></circle>
                                    <circle id="Oval" fill="#FFF7F0" cx="128.093" cy="127.48" r="91.8"></circle>
                                    <path d="M110.8,117.075562 C109.204,117.013562 107.727,116.215562 106.8,114.915562 C105.681,113.702562 105.041,112.124562 105,110.475562 C105.182,108.028562 106.559,105.828562 108.68,104.595562 C115.373,99.8225621 119.84,96.7425621 122.08,95.3555621 C123.674,94.2385621 125.488,93.4755621 127.4,93.1155621 C128.912,92.8555621 130.467,93.0365621 131.88,93.6355621 C133.904,94.4385621 135.213,96.4185621 135.16,98.5955621 L135.16,107.875562 L135.16,117.275562 L135.16,155.755562 C135.184,157.344562 134.42,158.842562 133.12,159.755562 C131.687,160.776562 129.958,161.296562 128.2,161.235562 C126.467,161.341562 124.756,160.799562 123.4,159.715562 C122.096,158.504562 121.405,156.771562 121.52,154.995562 L121.52,141.075562 L121.52,123.075562 L121.52,116.675562 L121.52,110.475562 C118.853,112.662562 116.44,114.515562 114.28,116.035562 C113.226,116.669562 112.029,117.026562 110.8,117.075562 L110.8,117.075562 Z" id="Shape" fill="#292929"></path>
                                </g>
                            </g>
                        </svg>
                      </div>
                      <div (click)="showTemp()">
                          <strong class="value">{{subitem.userPredictions[1]?.value}}°</strong>
                          <span *ngIf="visibleTemp===true" class="perc">{{ CellScore(1, subitem) }}</span>
                      </div>
                  </td>
                  <td width="21%" align="center" *ngIf="visibleDescr===false" 
                      [ngClass]="{'top-rating': isTopRatingClass(subitem.userPredictions[2])}"  
                      [style.color]="subitem.userPredictions[2]?.txCol" 
                      [style.background-color]="GetBackgroundColor(2, subitem)">
                  	<div class="top-rating-icon">
                  	  	<svg viewBox="0 0 256 397" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  	  	    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                  	  	        <g fill-rule="nonzero">
                  	  	            <path d="M198.453,178.52 L57.733,178.52 C54.994,178.52 52.773,180.741 52.773,183.48 L52.773,183.48 L52.773,391.16 C52.759,393.899 54.968,396.131 57.707,396.146 C59.038,396.153 60.315,395.625 61.253,394.68 L128.093,327.88 L194.933,394.72 C196.863,396.664 200.003,396.676 201.947,394.746 C202.891,393.809 203.419,392.531 203.413,391.2 L203.413,183.52 C203.435,180.781 201.232,178.542 198.493,178.52 L198.453,178.52 Z" id="Shape" fill="#D57E00"></path>
                  	  	            <circle id="Oval" fill="#DD9936" cx="128.093" cy="127.48" r="127.48"></circle>
                  	  	            <circle id="Oval" fill="#FFF7F0" cx="128.093" cy="127.48" r="91.8"></circle>
                  	  	            <path d="M110.8,117.075562 C109.204,117.013562 107.727,116.215562 106.8,114.915562 C105.681,113.702562 105.041,112.124562 105,110.475562 C105.182,108.028562 106.559,105.828562 108.68,104.595562 C115.373,99.8225621 119.84,96.7425621 122.08,95.3555621 C123.674,94.2385621 125.488,93.4755621 127.4,93.1155621 C128.912,92.8555621 130.467,93.0365621 131.88,93.6355621 C133.904,94.4385621 135.213,96.4185621 135.16,98.5955621 L135.16,107.875562 L135.16,117.275562 L135.16,155.755562 C135.184,157.344562 134.42,158.842562 133.12,159.755562 C131.687,160.776562 129.958,161.296562 128.2,161.235562 C126.467,161.341562 124.756,160.799562 123.4,159.715562 C122.096,158.504562 121.405,156.771562 121.52,154.995562 L121.52,141.075562 L121.52,123.075562 L121.52,116.675562 L121.52,110.475562 C118.853,112.662562 116.44,114.515562 114.28,116.035562 C113.226,116.669562 112.029,117.026562 110.8,117.075562 L110.8,117.075562 Z" id="Shape" fill="#292929"></path>
                  	  	        </g>
                  	  	    </g>
                  	  	</svg>
                  	</div>
                      <div (click)="showPrec()">
                        <strong class="value">{{subitem.userPredictions[2]?.value}}</strong>
                        <span *ngIf="visiblePrec===true" class="perc">{{ CellScore(2, subitem) }}</span>
                    </div>
                  </td>

                  <td *ngIf="visibleDescr===true" (click)="showDescr()" width="42%"  
                      [style.color]="subitem.userPredictions[0]?.txCol" 
                      [style.background-color]="GetBackgroundColor(0, subitem)">
                      <div>
                          <strong style="font-size: 1.4rem" class="value">{{subitem.userPredictions[0]?.value}}</strong>
                      </div>
                  </td>

                </tr>
              </table>
            </li>
        </ul>
    </div>
</div>
